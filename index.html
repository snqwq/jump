<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Jumping...</title>
    <script>
      window.onload = function () {
        // Get the URL from the query string (e.g., ?url=steam://run/480)
        const urlParams = new URLSearchParams(window.location.search);
        const targetUrl = urlParams.get("url"); // This will get the value of "url"

        // If a valid URL is provided, redirect the user
        if (targetUrl) {
          // hort delay to prevent accidental clicks
          setTimeout(() => {
            // Redirect to the provided URL
            window.location.href = targetUrl;
          }, 1000); // 1 second delay
        } else {
          // If no URL is provided, redirect to nourl.html
          window.location.href = "nourl";
        }
      };
    </script>
  </head>
  <body>
    <p>Redirecting...</p>
    <p>
      If you are not redirected automatically, please click
      <a href="" id="manual-link">here</a>.
    </p>
    <p></p>
    <script>
      // Set the href of the link to the current URL (fallback in case redirect fails)
      const urlParams = new URLSearchParams(window.location.search);
      const targetUrl = urlParams.get("url");
      if (targetUrl) {
        document.getElementById("manual-link").href = targetUrl;
      }
    </script>
  </body>
</html>
